/* ========== Base / Theme ========== */
:root {
  --bg: #111315;           /* page background */
  --panel: #191c1f;        /* card/panel background */
  --text: #e9ecef;         /* primary text */
  --muted: #9aa0a69c;      /* secondary text */
  --border: #2a2f34;       /* hairline borders */
  --success: #2ecc71;      /* Start button */
  --success-press: #27ae60;
  --stop: #cc2e2e;         /* Stop button */
  --neutral: #3f3f46;      /* Reset button */
  --neutral-press: #5b6066;
  --radius: 12px;
  --shadow: 0 10px 30px rgba(0,0,0,.35), 0 2px 10px rgba(0,0,0,.25);

  --minw: 340px;           /* minimum layout width */
  --minh: 400px;           /* minimum layout height */
  --controls-h: 84px;      /* fixed controls bar height */
  --app-max: 800px
}

* { box-sizing: border-box; }

html, body {
  height: 100%;
  min-width: var(--minw);
  min-height: var(--minh);
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
}

/* ========== Layout ========== */
.app {
  max-width: var(--app-max);
  margin: 0 auto;
  padding: 24px 22px 28px;
  padding-bottom: calc(var(--controls-h) + 8px); /* avoid overlap with fixed controls */
  overflow: hidden;
}

/* ========== Time Display ========== */
.time-display {
  font-variant-numeric: tabular-nums lining-nums;
  font-family: monospace;
  letter-spacing: .02em;
  font-weight: 100; /* thinner */
  font-size: clamp(64px, 12vw, 120px);
  line-height: 1;
  text-align: center;
  margin: 16px 16px;
  color: var(--text);
}

.status-text {
  font-family: monospace;
  font-size: 1rem;
  text-align: center;
  font-weight: lighter;
}

/* ========== Laps Table ========== */
.laps {
  background: var(--panel);
  border-radius: var(--radius);
  box-shadow: var(--shadow);

  overflow-y: auto;
  max-height: 50vh;

  scrollbar-width: none;       /* Firefox */
  -ms-overflow-style: none;    /* Internet Explorer/Edge */ 
}
.laps::-webkit-scrollbar {
  display: none;               /* Chrome, Safari */
}

.laps table {
  width: 100%;
  border-collapse: collapse;
}

.laps thead th {
  position: sticky;
  top: 0;
  background: var(--panel);
  z-index: 1;

  text-align: left;
  font-size: clamp(12px, 2.8vw, 14px);
  font-weight: 600;
  color: var(--muted);
  padding: 14px 18px 10px;
  border-bottom: 1px solid var(--border);
}

.laps tbody td {
  padding: 8px 18px;
  font-size: clamp(14px, 2vw, 16px);
  border-bottom: 1px solid var(--border);
}

.laps tbody tr:last-child td {
  border-bottom: none;
}

.laps .num { width: 30%; }
.laps .split { width: 35%; text-align: right; font-weight: 700; }
.laps .total { width: 35%; text-align: right; font-weight: 700; }

/* Optional subtle zebra if multiple rows */
.laps tbody tr:nth-child(even) td {
  background: rgba(255,255,255,.02);
}

/* ========== Controls ========== */
.controls {
  position: fixed;
  bottom: 0;
  inset-inline: 0;          /* left:0; right:0 in logical terms */
  margin-inline: auto;      /* center it */
  max-width: var(--app-max);
  width: 100%;

  padding: 16px clamp(16px, 4vw, 36px) calc(16px + env(safe-area-inset-bottom));
  gap: 14px;

  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  align-content: center;

  background: var(--bg);

  z-index: 10;              /* stay above content */
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 44px;
  border: 0;
  padding: 0 18px;
  border-radius: 10px;
  font-weight: 600;
  letter-spacing: .02em;
  cursor: pointer;
  transition: transform .04s ease, filter .2s ease, box-shadow .2s ease, background .2s ease;
}
.btn:active { transform: translateY(1px); }

/* Start (green) */
.btn-start {
  background: var(--success);
  color: #0b1a10;
  box-shadow: 0 6px 16px rgba(46, 204, 113, .35);
}
.btn-start:hover { filter: brightness(1.05); }
.btn-start:active { background: var(--success-press); }

/* Reset (gray) */
.btn-reset {
  background: var(--neutral);
  color: var(--text);
  box-shadow: 0 6px 16px rgba(0,0,0,.25) inset, 0 6px 16px rgba(0,0,0,.25);
}
.btn-reset:hover { filter: brightness(1.05); }
.btn-reset:active { background: var(--neutral-press); }

/* Disabled state */
.btn[disabled] {
  opacity: .55;
  cursor: not-allowed;
  box-shadow: none;
}

/* Stop (red) */
.btn-stop {
  background: var(--stop);
  color: #0b1a10;
  box-shadow: 0 6px 16px rgba(204, 46, 46, 0.35);
}

/* ========== Small Screens ========== */
@media (max-width: 420px) {
  .app { padding: 18px 14px 24px; }
  .time-display { margin-bottom: 18px; }
  .laps thead th, .laps tbody td { padding-left: 12px; padding-right: 12px; }
}



/* ==== Time bar component ==== */
/* Bar container: full width, subtle background, rounded */
.splitbar {
  width: 100%;
  height: 8px;                      /* tweak if you want thicker */
  background: var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  display: flex;
}

/* Each segment fills height, width set inline (%) */
.splitbar__seg {
  height: 100%;
  transition: width .12s linear;     /* smooth growth as time passes */
}

/* Colors from your theme */
.splitbar__seg.is-work  { background: var(--success); }
.splitbar__seg.is-break { background: var(--stop); }

/* Optional: make the current (growing) segment slightly glossy */
.splitbar__seg.is-current {
  filter: brightness(1.05);
  position: relative;
}
.splitbar__seg.is-current::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(90deg, rgba(255,255,255,.08), transparent 50%);
  pointer-events: none;
}

.hide-text {
  color: var(--bg);
}